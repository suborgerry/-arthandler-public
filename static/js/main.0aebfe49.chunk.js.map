{"version":3,"sources":["components/Products.js","components/responce.js","components/App.js","index.js"],"names":["Products","props","handleProducts","atr","dataProducts","products","map","product","index","sku","name","price","quantity","className","suppliers","suppilier","ProductResponce","useState","setDataProducts","isLoading","setIsLoading","error","setError","catchError","a","axios","get","data","catalog","console","useEffect","responseProducts","App","setAtr","input","setInput","type","id","value","onChange","evt","target","length","filter","e","isFinite","join","placeholder","onClick","disabled","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0LA+CeA,MA/Cf,SAAkBC,GACd,IAAMC,EAAiBD,EAAME,KACNF,EAAMG,cACNH,EAAMG,aAAa,GAAGC,SAASC,KAAI,SAACC,EAASC,GAAV,OAC1DD,EAAQE,MAAQR,EAAME,KAClB,gCACI,8BACI,iEAAc,+BAAOI,EAAQG,SAD1B,WAGP,8BACI,2DAAa,+BAAOH,EAAQI,UADzB,SAGP,8BACI,8HAAyB,+BAAOJ,EAAQK,aADrC,YAGP,qBAAIC,UAAU,gBAAd,UACQ,oBAAgBA,UAAU,OAA1B,mEAAQ,SACR,oBAAgBA,UAAU,OAA1B,uDAAQ,SACR,oBAAgBA,UAAU,OAA1B,qCAAQ,YAEhB,oBAAIA,UAAU,mBAAd,SACMN,EAAQO,WAAaP,EAAQO,UAAUR,KAAI,SAACS,EAAWP,GAAZ,OACzC,mCACqB,0HAAnBO,EAAUL,MACR,qBAAgBG,UAAU,gBAA1B,UACI,sBAAMA,UAAU,OAAhB,SAAwBE,EAAUL,OAClC,sBAAMG,UAAU,OAAhB,SAAwBE,EAAUR,QAAQK,WAC1C,sBAAMC,UAAU,OAAhB,SAAwBE,EAAUR,QAAQI,UAHrCH,YAnBhB,uBA+Bb,OACI,mCACMN,GACF,qBAAKW,UAAU,UAAf,SACKX,O,yCCTFc,MA5Bf,WACI,MAAwCC,mBAAS,MAAjD,mBAAOb,EAAP,KAAqBc,EAArB,KAGA,EAAkCD,oBAAS,GAA3C,mBAAOE,EAAP,KAAkBC,EAAlB,KACA,EAA0BH,oBAAS,GAAnC,mBAAOI,EAAP,KAAcC,EAAd,KAGMC,EAAU,mWARO,4CAUvB,8BAAAC,EAAA,sEAEQJ,GAAa,GAFrB,SAG+BK,IAAMC,IAAI,kBAHzC,gBAGgBC,EAHhB,EAGgBA,KACRT,EAAgBS,EAAKC,SAJ7B,gDAMQC,QAAQR,MAAR,MACAC,EAASC,GAPjB,yBASQH,GAAa,GATrB,6EAVuB,sBAyBvB,OAFAU,qBAAU,YAvBa,mCAuBRC,KAAoB,IAE5B,CAAE3B,eAAce,YAAWE,UCmBvBW,MA1Cf,WACE,MAAsBf,mBAAS,IAA/B,mBAAOd,EAAP,KAAY8B,EAAZ,KACA,EAA0BhB,mBAAS,IAAnC,mBAAOiB,EAAP,KAAcC,EAAd,KAEA,EAA2CnB,IAAnCZ,EAAR,EAAQA,aAAce,EAAtB,EAAsBA,UAAWE,EAAjC,EAAiCA,MAkBjC,OACE,qBAAKR,UAAU,qBAAf,SACE,qBAAKA,UAAU,YAAf,SACGM,EAAY,oLACX,qCACE,kKACA,yGACA,uBAAOiB,KAAK,OAAOC,GAAG,cAAcC,MAAOJ,EAAOK,SAnB5D,SAAqBC,GACjBL,EAASK,EAAIC,OAAOH,MAAMI,QAAU,EACL,IAA5BF,EAAIC,OAAOH,MAAMI,OAAe,GAAK,YAAIF,EAAIC,OAAOH,OAAOK,QAAO,SAAAC,GAAC,OAAIC,SAASD,MAAIE,KAAK,IAC1FZ,IAgB6Ea,YAAY,+CACrF,wBAAQX,KAAK,SAASY,QAxBhC,WACIf,EAAOC,IAuB2Ce,SAAyB,IAAff,EAAMQ,OAA5D,kDACA,wBAAQN,KAAK,SAASa,UAAWf,EAAOc,QAdlD,WACEb,EAAS,IACTF,EAAO,KAYC,6FACEZ,EAAQ,8CAAOA,KACbrB,GAAY,cAAC,EAAD,CAAUI,aAAcA,EAAeD,IAAKA,YClCxE+C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.0aebfe49.chunk.js","sourcesContent":["function Products(props) {\r\n    const handleProducts = props.atr && \r\n                           props.dataProducts && \r\n                           props.dataProducts[1].products.map((product, index) => \r\n    product.sku === props.atr &&\r\n        <div key=\"productContainer\">\r\n            <p key=\"product\">\r\n                <b>Товар: </b><span>{product.name}</span>\r\n            </p>\r\n            <p key=\"price\">\r\n                <b>Цена: </b><span>{product.price}</span>\r\n            </p>\r\n            <p key=\"quantity\">\r\n                <b>Общее количество: </b><span>{product.quantity}</span> \r\n            </p>\r\n            <ul className=\"dillersHeader\">\r\n                    <li key=\"cell0\" className=\"cell\">Поставщик</li>\r\n                    <li key=\"cell1\" className=\"cell\">Остаток</li>\r\n                    <li key=\"cell2\" className=\"cell\">Цена</li>\r\n            </ul>\r\n            <ul className=\"dillersContainer\">\r\n                { product.suppliers && product.suppliers.map((suppilier, index) => \r\n                    <>\r\n                    { suppilier.name !== 'Сантехстрой - исходник' && \r\n                        <li key={index} className=\"cellContainer\">\r\n                            <span className=\"cell\">{suppilier.name}</span>\r\n                            <span className=\"cell\">{suppilier.product.quantity}</span>\r\n                            <span className=\"cell\">{suppilier.product.price}</span>\r\n                        </li> \r\n                    }\r\n                    </>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n            \r\n    return (\r\n        <>\r\n            { handleProducts &&\r\n            <div className=\"dillers\">\r\n                {handleProducts}\r\n            </div> }\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Products;","import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction ProductResponce() {\r\n    const [dataProducts, setDataProducts] = useState(null);\r\n\r\n    // States\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(false);\r\n  \r\n    //Errors\r\n    const catchError = `Ошибка в запросе. Проверьте правильность ввода и попробуйте еще раз`;\r\n\r\n    async function responseProducts() {\r\n        try {\r\n            setIsLoading(true);\r\n            const { data } = await axios.get('../prices.json');\r\n            setDataProducts(data.catalog);\r\n        } catch (error) {\r\n            console.error(error);\r\n            setError(catchError);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n    \r\n    useEffect(()=>{responseProducts()},[]);\r\n\r\n    return { dataProducts, isLoading, error }\r\n}\r\n\r\nexport default ProductResponce;","import '../sass/App.sass';\r\nimport { useState } from 'react';\r\nimport Products from './Products';\r\nimport ProductResponce from './responce';\r\n\r\nfunction App() {\r\n  const [atr, setAtr] = useState('');\r\n  const [input, setInput] = useState('');\r\n\r\n  const { dataProducts, isLoading, error } = ProductResponce();\r\n  \r\n  function getProducts() {\r\n      setAtr(input);\r\n  };\r\n\r\n  function handleInput(evt) {\r\n      setInput(evt.target.value.length <= 5 ?\r\n        (evt.target.value.length === 0 ? '' : [...evt.target.value].filter(e => isFinite(e)).join('')) : // Disable inputs letter\r\n        input\r\n      );\r\n  };\r\n\r\n  function clearResponce() {\r\n    setInput('');\r\n    setAtr('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"App productsSearch\">\r\n      <div className=\"container\">\r\n        {isLoading ? <p>Загрузка базы поставщиков &#9203;</p> :\r\n          <>\r\n            <p>Поиск товара по артикулу</p>\r\n            <p>Артикул - 5 цифр.</p>\r\n            <input type=\"text\" id=\"inputFilter\" value={input} onChange={handleInput} placeholder=\"АРТИКУЛ\"/>\r\n            <button type=\"button\" onClick={getProducts} disabled={input.length!==5 ? true : false}>ИСКАТЬ</button>\r\n            <button type=\"button\" disabled={!input} onClick={clearResponce}>ОЧИСТИТЬ ПОИСК</button>\r\n            { error ? <p>⚠️ {error}</p> : \r\n                Products && <Products dataProducts={dataProducts}  atr={atr}/>\r\n            }   \r\n          </>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}